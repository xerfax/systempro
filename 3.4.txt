Пользователь вводит числа, и программа сохраняет их. Когда пользователь введет команду "sum", программа отобразит сумму всех введенных чисел. Программа завершится только после того, как пользователь введет команду "exit". Если вводимое значение не является ни "sum", ни "exit", его следует добавить в массив.
На каждой итерации цикла программа должна выводить в консоль все числа, которые уже были введены пользователем и сохранены в массиве. При этом стоит учесть, что программа должна быть реализована с использованием динамического расширения массива без применения List<T> или метода Array.Resize.

Для реализации программы с динамическим расширением массива без использования List<T> или метода Array.Resize, мы создадим массив фиксированного начального размера. Когда массив заполняется, будем копировать его элементы в новый, увеличенный массив. Эта программа будет работать в цикле, пока пользователь не введет команду exit. Если пользователь вводит sum, программа выведет сумму всех введенных чисел. Введенные числа сохраняются в массиве и выводятся на каждой итерации.

using System;

class Program
{
    static void Main()
    {
        // Инициализация массива и переменной для отслеживания количества введенных чисел
        int[] numbers = new int[2]; // Начальный размер массива
        int count = 0;

        while (true)
        {
            Console.Write("Введите число или команду (sum, exit): ");
            string input = Console.ReadLine();

            // Команда "sum" для вывода суммы чисел
            if (input.ToLower() == "sum")
            {
                int sum = 0;
                for (int i = 0; i < count; i++)
                {
                    sum += numbers[i];
                }
                Console.WriteLine($"Сумма введенных чисел: {sum}");
            }
            // Команда "exit" для завершения программы
            else if (input.ToLower() == "exit")
            {
                Console.WriteLine("Программа завершена.");
                break;
            }
            else
            {
                // Попытка преобразования ввода в целое число
                if (int.TryParse(input, out int number))
                {
                    // Проверка необходимости расширения массива
                    if (count == numbers.Length)
                    {
                        // Создание нового массива с удвоенным размером
                        int[] newNumbers = new int[numbers.Length * 2];
                        
                        // Копирование значений в новый массив
                        for (int i = 0; i < numbers.Length; i++)
                        {
                            newNumbers[i] = numbers[i];
                        }

                        numbers = newNumbers; // Переназначаем ссылку на новый массив
                    }

                    // Добавляем число в массив и увеличиваем счетчик
                    numbers[count] = number;
                    count++;

                    // Вывод текущего состояния массива
                    Console.Write("Текущие числа: ");
                    for (int i = 0; i < count; i++)
                    {
                        Console.Write(numbers[i] + " ");
                    }
                    Console.WriteLine(); // Переход на новую строку
                }
                else
                {
                    Console.WriteLine("Некорректный ввод. Введите число, 'sum' или 'exit'.");
                }
            }
        }
    }
}
